(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,r){e.exports=r(54)},48:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){},53:function(e,t,r){},54:function(e,t,r){"use strict";r.r(t);var o=r(1),n=r(0),a=r.n(n),c=r(9),s=r.n(c),i=r(2),l=r(8),p=r(3),u=r(4),h=r(6),f=r(5),j=r(7),b=(r(48),function(e){function t(){var e,r;Object(p.a)(this,t);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(r=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).content="",r.ref=a.a.createRef(),r}return Object(j.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this,t=this.props.content,r=this.ref.current;if(r&&this.content!==t){this.content=t,r.innerHTML=t;for(var n=["Off","Mono","Stereo","Busy"],a=function(t){var a=r.querySelector("#projector".concat(t));if(!a)return e.props.onError("Missing SVG ID: #projector".concat(t)),"continue";o.a.Gesture(a).on({down:e.onProjectorClick.bind(e,t)}),n.forEach(function(o){var n="#projector".concat(t).concat(o);r.querySelector(n)||e.props.onError("Missing SVG ID: ".concat(n))})},c=1;c<8;c++)a(c);var s=r.querySelector("#floor");s?o.a.Gesture(s).on({down:this.onProjectorClick.bind(this,0)}):this.props.onError("Missing SVG ID: #floor"),n.forEach(function(t){var o="#floor".concat(t);r.querySelector(o)||e.props.onError("Missing SVG ID: ".concat(o))});var i=r.querySelectorAll("image");i.length>0&&this.props.onError("Pleae avoid <image> elements. I've found ".concat(i.length," of them."))}}},{key:"onProjectorClick",value:function(e){this.props.onWallClicked(e)}},{key:"getClasses",value:function(e,t){var r=[];return t.busy?r.push("".concat(e,"Busy")):t.power?t.stereo?r.push("".concat(e,"Stereo")):r.push("".concat(e,"Mono")):r.push("".concat(e,"Off")),r}},{key:"render",value:function(){var e=this.props.projectors,t=["openDeck-view-hardwareDashboard-Canvas"];return t.push.apply(t,Object(i.a)(this.getClasses("projector1",e[1]))),t.push.apply(t,Object(i.a)(this.getClasses("projector2",e[2]))),t.push.apply(t,Object(i.a)(this.getClasses("projector3",e[3]))),t.push.apply(t,Object(i.a)(this.getClasses("projector4",e[4]))),t.push.apply(t,Object(i.a)(this.getClasses("projector5",e[5]))),t.push.apply(t,Object(i.a)(this.getClasses("projector6",e[6]))),t.push.apply(t,Object(i.a)(this.getClasses("projector7",e[7]))),t.push.apply(t,Object(i.a)(this.getClasses("floor",e[0]))),a.a.createElement("div",{className:t.join(" "),ref:this.ref})}}]),t}(a.a.Component)),v=r(12),m=r.n(v),d=r(15),y=(r(51),o.a.View.InputFile),g=function(e){function t(){var e,r;Object(p.a)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={},r.handleClick=function(){var e=Object(d.a)(m.a.mark(function e(t){var o,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("files=",t),o=t[0]){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,y.readFileAsText(o);case 6:n=e.sent,r.props.onLoad(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(j.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=["view-Errors"].concat(Object(i.a)(o.a.Converter.StringArray(this.props.className,[])));return a.a.createElement("div",{className:e.join(" ")},a.a.createElement(y,{accept:".svg",wide:!0,label:"Select an SVG file",icon:"import",onClick:this.handleClick}),a.a.createElement("div",{className:"body thm-bg2 thm-ele-bar"},this.props.errors.map(function(e,t){return a.a.createElement("div",{key:"error-".concat(t)},e)})))}}]),t}(a.a.Component),O=r(10),w=(r(52),o.a.View.Checkbox),C=function(e){function t(){var e,r;Object(p.a)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={},r}return Object(j.a)(t,e),Object(u.a)(t,[{key:"swap",value:function(e,t){var r=Object(l.a)({},this.props.projector,Object(O.a)({},e,t));this.setState({projector:r}),this.props.onChange(r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.label,n=t.projector,c=["view-ProjectorState","thm-bg2","thm-ele-button"].concat(Object(i.a)(o.a.Converter.StringArray(this.props.className,[])));return a.a.createElement("div",{className:c.join(" ")},a.a.createElement("label",null,r),a.a.createElement(w,{label:"Busy",value:n.busy,onChange:function(t){return e.swap("busy",t)}}),a.a.createElement(w,{label:"Power",value:n.power,onChange:function(t){return e.swap("power",t)}}),a.a.createElement(w,{label:"3D",value:n.stereo,onChange:function(t){return e.swap("stereo",t)}}))}}]),t}(a.a.Component),E=(r(53),o.a.View.Button,function(e){function t(){var e,r;Object(p.a)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={projectors:[k(),k(),k(),k(),k(),k(),k(),k()],content:"",errors:[]},r.handleWallClicked=function(e){var t=r.state.projectors.slice(),o=Object(l.a)({},t[e]);o.power?o.stereo=!o.stereo:o.power=!0,t[e]=o,r.setState({projectors:t})},r.handleNewError=function(e){var t=r.state.errors.slice();t.push(e),r.setState({errors:t})},r}return Object(j.a)(t,e),Object(u.a)(t,[{key:"updateProjector",value:function(e,t){console.info("projector, index=",e,t);var r=this.state.projectors.slice();r[t]=Object(l.a)({},e),this.setState({projectors:r})}},{key:"render",value:function(){var e=this,t=this.state,r=t.projectors,n=t.content,c=t.errors,s=["App","thm-bg0"].concat(Object(i.a)(o.a.Converter.StringArray(this.props.className,[])));return a.a.createElement("div",{className:s.join(" ")},a.a.createElement("div",null,a.a.createElement("div",{className:"projectors"},["floor","projector 1","projector 1","projector 3","projector 4","projector 5","projector 6","projector 7"].map(function(t,o){return a.a.createElement(C,{key:"proj-".concat(o),label:t,projector:r[o],onChange:function(t){return e.updateProjector(t,o)}})})),a.a.createElement(b,{content:n,projectors:r,onError:this.handleNewError,onWallClicked:this.handleWallClicked})),a.a.createElement(g,{errors:c,onLoad:function(t){return e.setState({content:t,errors:[]})}}))}}]),t}(a.a.Component));function k(){return{busy:S(),errors:[],name:"proj",power:S(),serverError:"",stereo:S(),warnings:[]}}function S(){return Math.random()<.5}o.a.Theme.register("default",{bg0:"#000",bg3:"#666"}),o.a.Theme.apply("default");var N=document.getElementById("root");s.a.render(a.a.createElement(E,null),N)}},[[16,1,2]]]);
//# sourceMappingURL=main.c48da0ae.chunk.js.map